## Data Generation

Download Form EIA-923 for 2007-2017, and similar EIA-906 for 2001-2006
Save "Page 1" as CSV, named "generation.csv" and with all lines before the column headers stripped
Run "csv_clean.sh" to normalize headers
Download Form EIA-860 for 2017 (I think/hope this includes closed plants so can be mapped against previous years)
Save as CSV

:point_up: This took me about an hour to run manually, mainly constrained by the time it takes to open up each giant excel file.

At this point, you should have [year]/netgen.csv for 2001-2017 in a "CSV" folder, along with "plant_locations.csv" from EIA-860.

Run "create_geojson.js" to create a single (large) GeoJSON file ("plant_generation.geojson") with plant data for every month from 2001-2017.

Create clustered tileset with tippecanoe:

`tippecanoe -zg -o us_electricity_generation.mbtiles -r1 --cluster-distance=10 --accumulate-attribute=netgen_[year]_[month]:sum plant_generation.geojson`

Make all the accumulation arguments with:
```
var output = ""; for (var year = 2001; year <= 2017; year++) {
    for (var month = 0; month <= 11; month++) {
        output += ` --accumulate-attribute=netgen_${year}_${month}:sum`;
    }
}
```

aka:

```
--accumulate-attribute=netgen_2001_0:sum --accumulate-attribute=netgen_2001_1:sum --accumulate-attribute=netgen_2001_2:sum --accumulate-attribute=netgen_2001_3:sum --accumulate-attribute=netgen_2001_4:sum --accumulate-attribute=netgen_2001_5:sum --accumulate-attribute=netgen_2001_6:sum --accumulate-attribute=netgen_2001_7:sum --accumulate-attribute=netgen_2001_8:sum --accumulate-attribute=netgen_2001_9:sum --accumulate-attribute=netgen_2001_10:sum --accumulate-attribute=netgen_2001_11:sum --accumulate-attribute=netgen_2002_0:sum --accumulate-attribute=netgen_2002_1:sum --accumulate-attribute=netgen_2002_2:sum --accumulate-attribute=netgen_2002_3:sum --accumulate-attribute=netgen_2002_4:sum --accumulate-attribute=netgen_2002_5:sum --accumulate-attribute=netgen_2002_6:sum --accumulate-attribute=netgen_2002_7:sum --accumulate-attribute=netgen_2002_8:sum --accumulate-attribute=netgen_2002_9:sum --accumulate-attribute=netgen_2002_10:sum --accumulate-attribute=netgen_2002_11:sum --accumulate-attribute=netgen_2003_0:sum --accumulate-attribute=netgen_2003_1:sum --accumulate-attribute=netgen_2003_2:sum --accumulate-attribute=netgen_2003_3:sum --accumulate-attribute=netgen_2003_4:sum --accumulate-attribute=netgen_2003_5:sum --accumulate-attribute=netgen_2003_6:sum --accumulate-attribute=netgen_2003_7:sum --accumulate-attribute=netgen_2003_8:sum --accumulate-attribute=netgen_2003_9:sum --accumulate-attribute=netgen_2003_10:sum --accumulate-attribute=netgen_2003_11:sum --accumulate-attribute=netgen_2004_0:sum --accumulate-attribute=netgen_2004_1:sum --accumulate-attribute=netgen_2004_2:sum --accumulate-attribute=netgen_2004_3:sum --accumulate-attribute=netgen_2004_4:sum --accumulate-attribute=netgen_2004_5:sum --accumulate-attribute=netgen_2004_6:sum --accumulate-attribute=netgen_2004_7:sum --accumulate-attribute=netgen_2004_8:sum --accumulate-attribute=netgen_2004_9:sum --accumulate-attribute=netgen_2004_10:sum --accumulate-attribute=netgen_2004_11:sum --accumulate-attribute=netgen_2005_0:sum --accumulate-attribute=netgen_2005_1:sum --accumulate-attribute=netgen_2005_2:sum --accumulate-attribute=netgen_2005_3:sum --accumulate-attribute=netgen_2005_4:sum --accumulate-attribute=netgen_2005_5:sum --accumulate-attribute=netgen_2005_6:sum --accumulate-attribute=netgen_2005_7:sum --accumulate-attribute=netgen_2005_8:sum --accumulate-attribute=netgen_2005_9:sum --accumulate-attribute=netgen_2005_10:sum --accumulate-attribute=netgen_2005_11:sum --accumulate-attribute=netgen_2006_0:sum --accumulate-attribute=netgen_2006_1:sum --accumulate-attribute=netgen_2006_2:sum --accumulate-attribute=netgen_2006_3:sum --accumulate-attribute=netgen_2006_4:sum --accumulate-attribute=netgen_2006_5:sum --accumulate-attribute=netgen_2006_6:sum --accumulate-attribute=netgen_2006_7:sum --accumulate-attribute=netgen_2006_8:sum --accumulate-attribute=netgen_2006_9:sum --accumulate-attribute=netgen_2006_10:sum --accumulate-attribute=netgen_2006_11:sum --accumulate-attribute=netgen_2007_0:sum --accumulate-attribute=netgen_2007_1:sum --accumulate-attribute=netgen_2007_2:sum --accumulate-attribute=netgen_2007_3:sum --accumulate-attribute=netgen_2007_4:sum --accumulate-attribute=netgen_2007_5:sum --accumulate-attribute=netgen_2007_6:sum --accumulate-attribute=netgen_2007_7:sum --accumulate-attribute=netgen_2007_8:sum --accumulate-attribute=netgen_2007_9:sum --accumulate-attribute=netgen_2007_10:sum --accumulate-attribute=netgen_2007_11:sum --accumulate-attribute=netgen_2008_0:sum --accumulate-attribute=netgen_2008_1:sum --accumulate-attribute=netgen_2008_2:sum --accumulate-attribute=netgen_2008_3:sum --accumulate-attribute=netgen_2008_4:sum --accumulate-attribute=netgen_2008_5:sum --accumulate-attribute=netgen_2008_6:sum --accumulate-attribute=netgen_2008_7:sum --accumulate-attribute=netgen_2008_8:sum --accumulate-attribute=netgen_2008_9:sum --accumulate-attribute=netgen_2008_10:sum --accumulate-attribute=netgen_2008_11:sum --accumulate-attribute=netgen_2009_0:sum --accumulate-attribute=netgen_2009_1:sum --accumulate-attribute=netgen_2009_2:sum --accumulate-attribute=netgen_2009_3:sum --accumulate-attribute=netgen_2009_4:sum --accumulate-attribute=netgen_2009_5:sum --accumulate-attribute=netgen_2009_6:sum --accumulate-attribute=netgen_2009_7:sum --accumulate-attribute=netgen_2009_8:sum --accumulate-attribute=netgen_2009_9:sum --accumulate-attribute=netgen_2009_10:sum --accumulate-attribute=netgen_2009_11:sum --accumulate-attribute=netgen_2010_0:sum --accumulate-attribute=netgen_2010_1:sum --accumulate-attribute=netgen_2010_2:sum --accumulate-attribute=netgen_2010_3:sum --accumulate-attribute=netgen_2010_4:sum --accumulate-attribute=netgen_2010_5:sum --accumulate-attribute=netgen_2010_6:sum --accumulate-attribute=netgen_2010_7:sum --accumulate-attribute=netgen_2010_8:sum --accumulate-attribute=netgen_2010_9:sum --accumulate-attribute=netgen_2010_10:sum --accumulate-attribute=netgen_2010_11:sum --accumulate-attribute=netgen_2011_0:sum --accumulate-attribute=netgen_2011_1:sum --accumulate-attribute=netgen_2011_2:sum --accumulate-attribute=netgen_2011_3:sum --accumulate-attribute=netgen_2011_4:sum --accumulate-attribute=netgen_2011_5:sum --accumulate-attribute=netgen_2011_6:sum --accumulate-attribute=netgen_2011_7:sum --accumulate-attribute=netgen_2011_8:sum --accumulate-attribute=netgen_2011_9:sum --accumulate-attribute=netgen_2011_10:sum --accumulate-attribute=netgen_2011_11:sum --accumulate-attribute=netgen_2012_0:sum --accumulate-attribute=netgen_2012_1:sum --accumulate-attribute=netgen_2012_2:sum --accumulate-attribute=netgen_2012_3:sum --accumulate-attribute=netgen_2012_4:sum --accumulate-attribute=netgen_2012_5:sum --accumulate-attribute=netgen_2012_6:sum --accumulate-attribute=netgen_2012_7:sum --accumulate-attribute=netgen_2012_8:sum --accumulate-attribute=netgen_2012_9:sum --accumulate-attribute=netgen_2012_10:sum --accumulate-attribute=netgen_2012_11:sum --accumulate-attribute=netgen_2013_0:sum --accumulate-attribute=netgen_2013_1:sum --accumulate-attribute=netgen_2013_2:sum --accumulate-attribute=netgen_2013_3:sum --accumulate-attribute=netgen_2013_4:sum --accumulate-attribute=netgen_2013_5:sum --accumulate-attribute=netgen_2013_6:sum --accumulate-attribute=netgen_2013_7:sum --accumulate-attribute=netgen_2013_8:sum --accumulate-attribute=netgen_2013_9:sum --accumulate-attribute=netgen_2013_10:sum --accumulate-attribute=netgen_2013_11:sum --accumulate-attribute=netgen_2014_0:sum --accumulate-attribute=netgen_2014_1:sum --accumulate-attribute=netgen_2014_2:sum --accumulate-attribute=netgen_2014_3:sum --accumulate-attribute=netgen_2014_4:sum --accumulate-attribute=netgen_2014_5:sum --accumulate-attribute=netgen_2014_6:sum --accumulate-attribute=netgen_2014_7:sum --accumulate-attribute=netgen_2014_8:sum --accumulate-attribute=netgen_2014_9:sum --accumulate-attribute=netgen_2014_10:sum --accumulate-attribute=netgen_2014_11:sum --accumulate-attribute=netgen_2015_0:sum --accumulate-attribute=netgen_2015_1:sum --accumulate-attribute=netgen_2015_2:sum --accumulate-attribute=netgen_2015_3:sum --accumulate-attribute=netgen_2015_4:sum --accumulate-attribute=netgen_2015_5:sum --accumulate-attribute=netgen_2015_6:sum --accumulate-attribute=netgen_2015_7:sum --accumulate-attribute=netgen_2015_8:sum --accumulate-attribute=netgen_2015_9:sum --accumulate-attribute=netgen_2015_10:sum --accumulate-attribute=netgen_2015_11:sum --accumulate-attribute=netgen_2016_0:sum --accumulate-attribute=netgen_2016_1:sum --accumulate-attribute=netgen_2016_2:sum --accumulate-attribute=netgen_2016_3:sum --accumulate-attribute=netgen_2016_4:sum --accumulate-attribute=netgen_2016_5:sum --accumulate-attribute=netgen_2016_6:sum --accumulate-attribute=netgen_2016_7:sum --accumulate-attribute=netgen_2016_8:sum --accumulate-attribute=netgen_2016_9:sum --accumulate-attribute=netgen_2016_10:sum --accumulate-attribute=netgen_2016_11:sum --accumulate-attribute=netgen_2017_0:sum --accumulate-attribute=netgen_2017_1:sum --accumulate-attribute=netgen_2017_2:sum --accumulate-attribute=netgen_2017_3:sum --accumulate-attribute=netgen_2017_4:sum --accumulate-attribute=netgen_2017_5:sum --accumulate-attribute=netgen_2017_6:sum --accumulate-attribute=netgen_2017_7:sum --accumulate-attribute=netgen_2017_8:sum --accumulate-attribute=netgen_2017_9:sum --accumulate-attribute=netgen_2017_10:sum --accumulate-attribute=netgen_2017_11:sum
```
